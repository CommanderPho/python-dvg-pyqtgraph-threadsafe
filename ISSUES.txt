https://github.com/pyqtgraph/pyqtgraph/issues/1057
https://github.com/pyqtgraph/pyqtgraph/pull/1287/commits/5d58ec0a1b59f402526e2533977344d043b306d8

def pg_curve_set_data_with_nan(self, x, y):
    # Workaround for PyQt5 related bug in PyQtGraph where curves don't render if they contain NaNs
    # https://github.com/SainsburyWellcomeCentre/lasagna/issues/247
    # https://github.com/pyqtgraph/pyqtgraph/issues/1057
    # https://github.com/pyqtgraph/pyqtgraph/issues/1057#issuecomment-543190337

    finite = np.isfinite(y)
    notfinite = ~finite
    x_finite = np.delete(x, notfinite)
    y_finite = np.delete(y, notfinite)
    connect = np.logical_and(finite, np.roll(finite, -1))
    connect = np.delete(connect, notfinite)
    return self.curve.setData(x_finite, y_finite, connect=connect)


self.pg_curve_set_data_with_nan(
    (self._snapshot_x - x_0) / float(self.x_axis_divisor),
    self._snapshot_y / float(self.y_axis_divisor),
)